<!-- src/app/features/auth/components/forgot-password/forgot-password.component.html  -->

<div class="forgot-password-container">
  <div class="forgot-password-card">
    <app-card>
      
      <!-- Success State -->
      <div *ngIf="isSubmitted" class="success-state">
        <div class="success-icon">üìß</div>
        <h1 class="success-title">Check Your Email</h1>
        <p class="success-message">
          We've sent a password reset link to <strong>{{ forgotPasswordForm.get('email')?.value }}</strong>
        </p>
        <p class="success-instructions">
          Please check your inbox and click the link to reset your password. 
          The link will expire in 24 hours.
        </p>

        <!-- Actions -->
        <div class="success-actions">
          <app-button
            variant="primary"
            [block]="true"
            routerLink="/auth/login">
            Back to Login
          </app-button>

          <button 
            type="button" 
            class="resend-link"
            (click)="resetForm()">
            Didn't receive the email? Try another address
          </button>
        </div>
      </div>

      <!-- Form State -->
      <div *ngIf="!isSubmitted" class="form-state">
        <!-- Header -->
        <div class="forgot-password-header">
          <h1 class="forgot-password-title">Reset Password</h1>
          <p class="forgot-password-subtitle">
            Enter your email address and we'll send you a link to reset your password
          </p>
        </div>

        <!-- Form -->
        <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="forgot-password-form">
          
          <!-- Email Field -->
          <app-input
            label="Email Address"
            type="email"
            formControlName="email"
            placeholder="you@example.com"
            [required]="true"
            [error]="hasError()"
            [errorMessage]="getErrorMessage()">
          </app-input>

          <!-- Submit Button -->
          <app-button
            type="submit"
            variant="primary"
            size="lg"
            [block]="true"
            [isLoading]="isLoading"
            [disabled]="forgotPasswordForm.invalid">
            Send Reset Link
          </app-button>

          <!-- Back to Login Link -->
          <div class="back-to-login">
            <a routerLink="/auth/login">
              ‚Üê Back to Login
            </a>
          </div>
        </form>
      </div>

    </app-card>
  </div>
</div>

